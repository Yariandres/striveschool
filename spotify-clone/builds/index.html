<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Potify Clone</title>
    <!-- custom css-->
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="container-fluid" id="side-navigation">
        <div class="row">
            <nav class="col-md-2 d-none d-md-block bg-light sidebar">

                <div class="sidebar-sticky fixed-top mt-4">
                    <a class="col-sm-3 col-md-2" href="#" style="color: white">
                        <img src="img/Spotify-white.png" alt="" class="img-fluid mb-5">
                    </a>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active">
                                <svg viewBox="0 0 512 512" style="color: #fff;" width="24" height="24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M448 463.746h-149.333v-149.333h-85.334v149.333h-149.333v-315.428l192-111.746 192 110.984v316.19z"
                                        fill="currentColor"></path>
                                </svg>
                                <span class="pl-2 font-weight-bold text-light">Home</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="searchBtn" onclick="getTerm()">
                                <svg viewBox="0 0 512 512" style="color: #fff;" width="24" height="24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M349.714 347.937l93.714 109.969-16.254 13.969-93.969-109.969q-48.508 36.825-109.207 36.825-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 37.841-14.73 71.619t-40.889 58.921zM224 377.397q43.428 0 80.254-21.461t58.286-58.286 21.461-80.254-21.461-80.254-58.286-58.285-80.254-21.46-80.254 21.46-58.285 58.285-21.46 80.254 21.46 80.254 58.285 58.286 80.254 21.461z"
                                        fill="currentColor" fill-rule="evenodd"></path>
                                </svg>
                            </a>
                            <input type="text" id="search">
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <svg viewBox="0 0 512 512" style="color: #fff;" width="24" height="24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M291.301 81.778l166.349 373.587-19.301 8.635-166.349-373.587zM64 463.746v-384h21.334v384h-21.334zM192 463.746v-384h21.334v384h-21.334z"
                                        fill="currentColor"></path>
                                </svg>
                                <span class="pl-2 font-weight-bold ">Your Library</span>
                            </a>
                        </li>
                    </ul>

                    <ul class="nav flex-column mb-2 mt-5">
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <svg viewBox="0 0 20 20" style="color: #fff;" width="24" height="24"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <title>Download icon</title>
                                    <path
                                        d="M12 11.657V6h-1v5.65L9.076 9.414l-.758.65 3.183 3.702 3.195-3.7-.758-.653L12 11.657zM11.5 2C7.358 2 4 5.358 4 9.5c0 4.142 3.358 7.5 7.5 7.5 4.142 0 7.5-3.358 7.5-7.5C19 5.358 15.642 2 11.5 2zm0 14C7.916 16 5 13.084 5 9.5S7.916 3 11.5 3 18 5.916 18 9.5 15.084 16 11.5 16z"
                                        fill="currentColor" fill-rule="evenodd"></path>
                                </svg>
                                <span class="ml-2 font-weight-bold">Install App</span>

                            </a>
                        </li>
                    </ul>

                    <ul class="nav flex-column mb-2">
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <figure class="avatar" title="Yari Andres" style="background-image: url(
                                            https://media.licdn.com/dms/image/C4D03AQEuVeeLIIDKnA/profile-displayphoto-shrink_100_100/0?e=1568246400&v=beta&t=oog3tVNqoJco2u2RvouzrPVqao5DEy89iMqvr4oF1bo);
                                            width: 25px; height: 25px; float: left; border-radius: 50%">
                                </figure>
                                <span class="pl-2 font-weight-bold "> Yari Andres</span>

                            </a>
                        </li>
                    </ul>
                </div>
            </nav>


            <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4" id="section-media">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 my-3 ">
                    <div class="text-uppercase nav-main">

                        <ul class="nav">
                            <li class="nav-item">
                                <a class="nav-link active" href="#">featured</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Lipodcastnk</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">chart</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">genre & moods</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">release</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">discover</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- main section nav end  -->

                <div id="media-pics">
                    <h2 class="text-light mt-5" id="SearchResult"></h2>
                    <div class="row" id="albumDetails">
                        <!-- list of album continer -->
                    </div>

                    <!-- Metallica -->

                    <h2 class="text-light mt-5">List for Metallica</h2>
                    <ul id="albumDetailsMetali">
                        <li class="list-item">

                        </li>
                    </ul>

                    <!-- behemoth -->
                    <h2 class="text-light mt-5">List for behemoth</h2>
                    <ul id="albumDetailsbehemoth">
                        <li class="list-item">

                        </li>
                    </ul>
                </div>
            </main>
        </div> <!-- row end -->
    </div><!-- container-fluid end  -->


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
        </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
        </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
        </script>

    <!-- custom scripts -->
    <script>
        // create an empty albums array to hold the loaded data
        var albums = [];

        getTerm = () => {

            var headers = new Headers({
                // api auth
                "X-RapidAPI-Host": "deezerdevs-deezer.p.rapidapi.com",
                "X-RapidAPI-Key": "5c7836e096msh890d36fc1471580p1e54e7jsne47005d9e9ce"
            });

            // get the search term
            var searTerm = document.querySelector("#search").value;

            // getting the h2
            var h2 = document.querySelector("#SearchResult");

            // writing inside the the h2
            h2.innerHTML = `<span> Search result for: ${searTerm} <span>`;

            // fetching the object from the API
            fetch("https://deezerdevs-deezer.p.rapidapi.com/search?q=" + searTerm, {
                method: "GET",
                headers: headers
            })
                .then((resp) => resp.json())
                .then((json) => {
                    // creating JSON asigning to albums to store it
                    albums = json;
                    // calls the  getAlbum function()
                    getAlbum(albums);
                });
        };

        getAlbum = (list) => {
            // get the parent element
            var div = document.querySelector("#albumDetails");

            //  clearing the div album image conatiner
            div.innerHTML = "";

            // get list data
            list.data.forEach((album) => {
                console.log(album);
                div.innerHTML += `
                        <div class="col-md-3 mb-4">
                            <a href="detailpage.html?id=${album.album.id}">
                                <img src="${ album.album.cover_big}" class="img-fluid" alt="album image">
                            </a>
                            <h3 class="text-light text-center mt-4">${album.title}</h3>
                            
                            <a href="#">
                                <p class="text-light text-center font-weight-bold">${album.artist.name}</p>
                            </a>
                            

                            <audio controls src="${album.preview}" type="audio/mpeg"></audio>
                        </div> 
                    `;
            });
        };
    </script>

</body>

</html>